<!-- Custom HTML site displayed as the Home chapter --> <!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=../../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-8.2.15"><title>Emotion Detection Textcnn - Pinferencia</title><link rel=stylesheet href=../../../../../assets/stylesheets/main.c382b1dc.min.css><link rel=stylesheet href=../../../../../assets/stylesheets/palette.cc9b2e1e.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../../../underneathall/css/termynal.css><link rel=stylesheet href=../../../../../underneathall/css/custom.css><script>__md_scope=new URL("../../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#model-basic-information class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-component=outdated hidden> <aside class="md-banner md-banner--warning"> </aside> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../../../.. title=Pinferencia class="md-header__button md-logo" aria-label=Pinferencia data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Pinferencia </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Emotion Detection Textcnn </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=deep-purple data-md-color-accent aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg> </label> </form> <div class=md-header__option> <div class=md-select> <button class="md-header__button md-icon" aria-label="Select language"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg> </button> <div class=md-select__inner> <ul class=md-select__list> <li class=md-select__item> <a href=./ hreflang=en class=md-select__link> English </a> </li> <li class=md-select__item> <a href=../../../../../re/how-to-guides/paddlepaddle/modules/text/emotion_detection_textcnn/ hreflang=re class=md-select__link> Seriouly, Doc </a> </li> <li class=md-select__item> <a href=../../../../../zh/how-to-guides/paddlepaddle/modules/text/emotion_detection_textcnn/ hreflang=zh class=md-select__link> 中文 </a> </li> <li class=md-select__item> <a href=../../../../../rc/how-to-guides/paddlepaddle/modules/text/emotion_detection_textcnn/ hreflang=rc class=md-select__link> 有点不一样文档 </a> </li> </ul> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/underneathall/pinferencia title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> Pinferencia </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../../../introduction/overview/ class=md-tabs__link> Introduction </a> </li> <li class=md-tabs__item> <a href=../../../../../get-started/install/ class=md-tabs__link> Get Started </a> </li> <li class=md-tabs__item> <a href=../../../../huggingface/dependencies/ class="md-tabs__link md-tabs__link--active"> How-to Guides </a> </li> <li class=md-tabs__item> <a href=../../../../../reference/models/machine-learning/ class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../../../../background/models/home/ class=md-tabs__link> Background </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../../.. title=Pinferencia class="md-nav__button md-logo" aria-label=Pinferencia data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> Pinferencia </label> <div class=md-nav__source> <a href=https://github.com/underneathall/pinferencia title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> Pinferencia </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 data-md-state=indeterminate type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> Introduction <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Introduction data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../introduction/overview/ class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../../../introduction/pinferencia-is-different/ class=md-nav__link> Pinferencia is different? </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 data-md-state=indeterminate type=checkbox id=__nav_3 checked> <label class=md-nav__link for=__nav_3> Get Started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Get Started" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../get-started/install/ class=md-nav__link> Install </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3_2 data-md-state=indeterminate type=checkbox id=__nav_3_2 checked> <label class=md-nav__link for=__nav_3_2> Tutorial <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Tutorial data-md-level=2> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> Tutorial </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../get-started/introduction/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../../../get-started/serve-a-json-model/ class=md-nav__link> Serve a Simple JSON Model </a> </li> <li class=md-nav__item> <a href=../../../../../get-started/serve-a-function/ class=md-nav__link> Serve a Function </a> </li> <li class=md-nav__item> <a href=../../../../../get-started/pytorch-mnist/ class=md-nav__link> Serve PyTorch MNIST Model </a> </li> <li class=md-nav__item> <a href=../../../../../get-started/pytorch-mnist/bonus/ class=md-nav__link> MNIST Bonus </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../../get-started/other-models/ class=md-nav__link> What's Next </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> How-to Guides <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="How-to Guides" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> How-to Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1 data-md-state=indeterminate type=checkbox id=__nav_4_1 checked> <label class=md-nav__link for=__nav_4_1> Use Pinferencia with HuggingFace <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Use Pinferencia with HuggingFace" data-md-level=2> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Use Pinferencia with HuggingFace </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../huggingface/dependencies/ class=md-nav__link> Install Dependencies </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_2 data-md-state=indeterminate type=checkbox id=__nav_4_1_2 checked> <label class=md-nav__link for=__nav_4_1_2> NLP Tasks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="NLP Tasks" data-md-level=3> <label class=md-nav__title for=__nav_4_1_2> <span class="md-nav__icon md-icon"></span> NLP Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../huggingface/pipeline/nlp/bert/ class=md-nav__link> Bert </a> </li> <li class=md-nav__item> <a href=../../../../huggingface/pipeline/nlp/text-generation/ class=md-nav__link> Text Generation - GPT2 </a> </li> <li class=md-nav__item> <a href=../../../../huggingface/pipeline/nlp/translation/ class=md-nav__link> Translation - Google T5 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_1_3 data-md-state=indeterminate type=checkbox id=__nav_4_1_3 checked> <label class=md-nav__link for=__nav_4_1_3> Vision Tasks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Vision Tasks" data-md-level=3> <label class=md-nav__title for=__nav_4_1_3> <span class="md-nav__icon md-icon"></span> Vision Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../huggingface/pipeline/vision/ class=md-nav__link> Image Classification </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2 type=checkbox id=__nav_4_2 checked> <label class=md-nav__link for=__nav_4_2> Use Pinferencia with PaddlePaddle <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Use Pinferencia with PaddlePaddle" data-md-level=2> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Use Pinferencia with PaddlePaddle </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../dependencies/ class=md-nav__link> Install Dependencies </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_2 data-md-state=indeterminate type=checkbox id=__nav_4_2_2 checked> <label class=md-nav__link for=__nav_4_2_2> Image Tasks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Image Tasks" data-md-level=3> <label class=md-nav__title for=__nav_4_2_2> <span class="md-nav__icon md-icon"></span> Image Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../image/image_classification/ class=md-nav__link> Image Classification </a> </li> <li class=md-nav__item> <a href=../../image/image_generation/ class=md-nav__link> Image Generation </a> </li> <li class=md-nav__item> <a href=../../image/face_detection/ class=md-nav__link> Face Detection </a> </li> <li class=md-nav__item> <a href=../../image/semantic_segmentation/ class=md-nav__link> Semantic Segmentation </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4_2_3 type=checkbox id=__nav_4_2_3 checked> <label class=md-nav__link for=__nav_4_2_3> Text Tasks <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Text Tasks" data-md-level=3> <label class=md-nav__title for=__nav_4_2_3> <span class="md-nav__icon md-icon"></span> Text Tasks </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Emotion Detection Textcnn <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Emotion Detection Textcnn </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#model-basic-information class=md-nav__link> Model basic information </a> </li> <li class=md-nav__item> <a href=#sample-result-example class=md-nav__link> Sample result example </a> </li> <li class=md-nav__item> <a href=#prerequisite class=md-nav__link> Prerequisite </a> <nav class=md-nav aria-label=Prerequisite> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1environment-dependent class=md-nav__link> 1、environment dependent </a> </li> <li class=md-nav__item> <a href=#2emotion_detection_textcnn-dependent class=md-nav__link> 2、emotion_detection_textcnn dependent </a> </li> <li class=md-nav__item> <a href=#3download-the-model class=md-nav__link> 3、Download the model </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#serve-the-model class=md-nav__link> Serve the Model </a> <nav class=md-nav aria-label="Serve the Model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-pinferencia class=md-nav__link> Install Pinferencia </a> </li> <li class=md-nav__item> <a href=#create-apppy class=md-nav__link> Create app.py </a> </li> <li class=md-nav__item> <a href=#test-the-service class=md-nav__link> Test the service </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../lexical_analysis/ class=md-nav__link> Lexical analysis </a> </li> <li class=md-nav__item> <a href=../text_generation/ class=md-nav__link> Text Generation </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../../schema/ class=md-nav__link> Define Request and Response Schema </a> </li> <li class=md-nav__item> <a href=../../../../custom-templates/ class=md-nav__link> Custom Templates </a> </li> <li class=md-nav__item> <a href=../../../../custom-frontend/ class=md-nav__link> Custom Frontend </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 data-md-state=indeterminate type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../reference/models/machine-learning/ class=md-nav__link> Other Machine Learning Frameworks </a> </li> <li class=md-nav__item> <a href=../../../../../reference/models/register/ class=md-nav__link> Register Models </a> </li> <li class=md-nav__item> <a href=../../../../../reference/handlers/ class=md-nav__link> Handlers </a> </li> <li class=md-nav__item> <a href=../../../../../reference/frontend/requirements/ class=md-nav__link> Frontend Requirements </a> </li> <li class=md-nav__item> <a href=../../../../../reference/restapi/ class=md-nav__link> REST API </a> </li> <li class=md-nav__item> <a href=../../../../../reference/cli/ class=md-nav__link> CLI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 data-md-state=indeterminate type=checkbox id=__nav_6 checked> <label class=md-nav__link for=__nav_6> Background <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Background data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Background </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../../background/models/home/ class=md-nav__link> About Models </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#model-basic-information class=md-nav__link> Model basic information </a> </li> <li class=md-nav__item> <a href=#sample-result-example class=md-nav__link> Sample result example </a> </li> <li class=md-nav__item> <a href=#prerequisite class=md-nav__link> Prerequisite </a> <nav class=md-nav aria-label=Prerequisite> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1environment-dependent class=md-nav__link> 1、environment dependent </a> </li> <li class=md-nav__item> <a href=#2emotion_detection_textcnn-dependent class=md-nav__link> 2、emotion_detection_textcnn dependent </a> </li> <li class=md-nav__item> <a href=#3download-the-model class=md-nav__link> 3、Download the model </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#serve-the-model class=md-nav__link> Serve the Model </a> <nav class=md-nav aria-label="Serve the Model"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#install-pinferencia class=md-nav__link> Install Pinferencia </a> </li> <li class=md-nav__item> <a href=#create-apppy class=md-nav__link> Create app.py </a> </li> <li class=md-nav__item> <a href=#test-the-service class=md-nav__link> Test the service </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/underneathall/pinferencia/blob/main/docs/how-to-guides/paddlepaddle/modules/text/emotion_detection_textcnn/index.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg> </a> <h1>Emotion Detection Textcnn</h1> <h2 id=model-basic-information>Model basic information<a class=headerlink href=#model-basic-information title="Permanent link">&para;</a></h2> <blockquote> <p>Emotion Detection (EmoTect for short) focuses on identifying the emotions of users in intelligent dialogue scenes. For user texts in intelligent dialogue scenes, it automatically determines the emotional category of the text and gives the corresponding confidence. The emotional type is divided into positive , Negative, Neutral. The model is based on TextCNN (Multiple Convolutional Kernel CNN model), which can better capture sentence local correlation.</p> </blockquote> <p>Reference：<a href=https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.2/modules/text/sentiment_analysis/emotion_detection_textcnn>https://github.com/PaddlePaddle/PaddleHub/blob/release/v2.2/modules/text/sentiment_analysis/emotion_detection_textcnn</a></p> <h2 id=sample-result-example>Sample result example<a class=headerlink href=#sample-result-example title="Permanent link">&para;</a></h2> <div class="tabbed-set tabbed-alternate" data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><input id=__tabbed_1_2 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Input</label><label for=__tabbed_1_2>Output</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code>[&quot;今天天气真好&quot;, &quot;湿纸巾是干垃圾&quot;, &quot;别来吵我&quot;]
</code></pre></div> </div> <div class=tabbed-block> <div class=highlight><pre><span></span><code><span class=p>[</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;text&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;今天天气真好&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;emotion_label&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;emotion_key&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;positive&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;positive_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.9267</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;negative_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0019</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;neutral_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0714</span><span class=w></span>
<span class=w>    </span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;text&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;湿纸巾是干垃圾&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;emotion_label&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;emotion_key&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;neutral&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;positive_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0062</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;negative_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0042</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;neutral_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.9896</span><span class=w></span>
<span class=w>    </span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;text&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;别来吵我&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;emotion_label&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;emotion_key&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;negative&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;positive_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0732</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;negative_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.7791</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;neutral_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.1477</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=p>]</span><span class=w></span>
</code></pre></div> </div> </div> </div> <p><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M130.7 313.9c-4.2-13.5 7.1-25.9 20.4-25.9h213.4c14.2 0 25.4 12.4 21.3 25.9-17.7 54.5-67.6 94.1-127.6 94.1s-110.7-39.6-127.5-94.1zM208.4 192c0 17.7-14.4 32-32 32-17.7 0-32-14.3-32-32s14.3-32 32-32c17.6 0 32 14.3 32 32zm73.5 22.6c-8-7.6-8.4-20.2-.9-28.3 14.6-15.5 35.3-22.3 54.6-22.3 18.5 0 40.1 6.8 54.6 22.3 7.6 8.1 7.2 20.7-.9 28.3-8.1 7.5-20.7 7.1-28.3-.9-5.4-5.9-14.7-9.7-25.4-9.7-11.5 0-19.9 3.8-25.4 9.7-7.5 8-20.2 8.4-28.3.9zM512 256c0 141.4-114.6 256-256 256S0 397.4 0 256 114.6 0 256 0s256 114.6 256 256zM256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"/></svg></span> Let's try it out now</p> <h2 id=prerequisite>Prerequisite<a class=headerlink href=#prerequisite title="Permanent link">&para;</a></h2> <h3 id=1environment-dependent>1、environment dependent<a class=headerlink href=#1environment-dependent title="Permanent link">&para;</a></h3> <p>Please visit <a href=../../../dependencies/ >dependencies</a></p> <h3 id=2emotion_detection_textcnn-dependent>2、emotion_detection_textcnn dependent<a class=headerlink href=#2emotion_detection_textcnn-dependent title="Permanent link">&para;</a></h3> <ul> <li> <p>paddlepaddle &gt;= 1.8.0</p> </li> <li> <p>paddlehub &gt;= 1.8.0</p> </li> </ul> <h3 id=3download-the-model>3、Download the model<a class=headerlink href=#3download-the-model title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code>hub install emotion_detection_textcnn
</code></pre></div> <h2 id=serve-the-model>Serve the Model<a class=headerlink href=#serve-the-model title="Permanent link">&para;</a></h2> <h3 id=install-pinferencia>Install Pinferencia<a class=headerlink href=#install-pinferencia title="Permanent link">&para;</a></h3> <p>First, let's install <a href=https://github.com/underneathall/pinferencia>Pinferencia</a>.</p> <div class=highlight><pre><span></span><code>pip install <span class=s2>&quot;pinferencia[streamlit]&quot;</span>
</code></pre></div> <h3 id=create-apppy>Create app.py<a class=headerlink href=#create-apppy title="Permanent link">&para;</a></h3> <p>Let's save our predict function into a file <code>app.py</code> and add some lines to register it.</p> <div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>app.py</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>import</span> <span class=nn>paddlehub</span> <span class=k>as</span> <span class=nn>hub</span>

<span class=kn>from</span> <span class=nn>pinferencia</span> <span class=kn>import</span> <span class=n>Server</span><span class=p>,</span> <span class=n>task</span>

<span class=n>emotion_detection_textcnn</span> <span class=o>=</span> <span class=n>hub</span><span class=o>.</span><span class=n>Module</span><span class=p>(</span><span class=n>name</span><span class=o>=</span><span class=s2>&quot;emotion_detection_textcnn&quot;</span><span class=p>)</span>


<span class=k>def</span> <span class=nf>predict</span><span class=p>(</span><span class=n>text</span><span class=p>:</span> <span class=nb>list</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
    <span class=k>return</span> <span class=n>emotion_detection_textcnn</span><span class=o>.</span><span class=n>emotion_classify</span><span class=p>(</span><span class=n>texts</span><span class=o>=</span><span class=n>text</span><span class=p>)</span>


<span class=n>service</span> <span class=o>=</span> <span class=n>Server</span><span class=p>()</span>
<span class=n>service</span><span class=o>.</span><span class=n>register</span><span class=p>(</span>
    <span class=n>model_name</span><span class=o>=</span><span class=s2>&quot;emotion_detection_textcnn&quot;</span><span class=p>,</span>
    <span class=n>model</span><span class=o>=</span><span class=n>predict</span><span class=p>,</span>
    <span class=n>metadata</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;task&quot;</span><span class=p>:</span> <span class=n>task</span><span class=o>.</span><span class=n>TEXT_TO_TEXT</span><span class=p>},</span>
<span class=p>)</span>
</code></pre></div></td></tr></table></div> <p>Run the service, and wait for it to load the model and start the server:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><input id=__tabbed_2_2 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Only Backend</label><label for=__tabbed_2_2>Frontend and Backend</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=termy> <div class=highlight><pre><span></span><code><span class=gp>$ </span>uvicorn app:service --reload
<span class=go>INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)</span>
<span class=go>INFO:     Started reloader process [xxxxx] using statreload</span>
<span class=go>INFO:     Started server process [xxxxx]</span>
<span class=go>INFO:     Waiting for application startup.</span>
<span class=go>INFO:     Application startup complete.</span>
</code></pre></div> </div> </div> <div class=tabbed-block> <div class=termy> <div class=highlight><pre><span></span><code><span class=gp>$ </span>pinfer app:service --reload

<span class=go>Pinferencia: Frontend component streamlit is starting...</span>
<span class=go>Pinferencia: Backend component uvicorn is starting...</span>
</code></pre></div> </div> </div> </div> </div> <h3 id=test-the-service>Test the service<a class=headerlink href=#test-the-service title="Permanent link">&para;</a></h3> <div class="tabbed-set tabbed-alternate" data-tabs=3:3><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><input id=__tabbed_3_2 name=__tabbed_3 type=radio><input id=__tabbed_3_3 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>UI</label><label for=__tabbed_3_2>curl</label><label for=__tabbed_3_3>Python Requests</label></div> <div class=tabbed-content> <div class=tabbed-block> <p>Open <a href=http://127.0.0.1:8501>http://127.0.0.1:8501</a>, and the template <code>Raw Request</code> will be selected automatically.</p> <p><img alt=png src=/assets/images/examples/paddle/emotion.jpg></p> </div> <div class=tabbed-block> <p><strong>Request</strong></p> <div class=highlight><pre><span></span><code>curl --location --request POST <span class=se>\</span>
    <span class=s1>&#39;http://127.0.0.1:8000/v1/models/emotion_detection_textcnn/predict&#39;</span> <span class=se>\</span>
    --header <span class=s1>&#39;Content-Type: application/json&#39;</span> <span class=se>\</span>
    --data-raw <span class=s1>&#39;{</span>
<span class=s1>        &quot;data&quot;: [&quot;今天天气真好&quot;, &quot;湿纸巾是干垃圾&quot;, &quot;别来吵我&quot;]</span>
<span class=s1>    }&#39;</span>
</code></pre></div> <p><strong>Response</strong></p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;model_name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;emotion_detection_textcnn&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;data&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;text&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;今天天气真好&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;emotion_label&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>2</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;emotion_key&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;positive&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;positive_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.9267</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;negative_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0019</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;neutral_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0714</span><span class=w></span>
<span class=w>        </span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;text&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;湿纸巾是干垃圾&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;emotion_label&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;emotion_key&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;neutral&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;positive_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0062</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;negative_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0042</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;neutral_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.9896</span><span class=w></span>
<span class=w>        </span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;text&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;别来吵我&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;emotion_label&quot;</span><span class=p>:</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;emotion_key&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;negative&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;positive_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.0732</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;negative_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.7791</span><span class=p>,</span><span class=w></span>
<span class=w>            </span><span class=nt>&quot;neutral_probs&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.1477</span><span class=w></span>
<span class=w>        </span><span class=p>}</span><span class=w></span>
<span class=w>    </span><span class=p>]</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> </div> <div class=tabbed-block> <p><strong>Create the <code>test.py</code>.</strong></p> <p><div class=highlight><table class=highlighttable><tr><th colspan=2 class=filename><span class=filename>test.py</span></th></tr><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span>
<span class=normal>4</span>
<span class=normal>5</span>
<span class=normal>6</span>
<span class=normal>7</span>
<span class=normal>8</span></pre></div></td><td class=code><div><pre><span></span><code><span class=kn>import</span> <span class=nn>requests</span>


<span class=n>response</span> <span class=o>=</span> <span class=n>requests</span><span class=o>.</span><span class=n>post</span><span class=p>(</span>
    <span class=n>url</span><span class=o>=</span><span class=s2>&quot;http://localhost:8000/v1/models/emotion_detection_textcnn/predict&quot;</span><span class=p>,</span>
    <span class=n>json</span><span class=o>=</span><span class=p>{</span><span class=s2>&quot;data&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;今天天气真好&quot;</span><span class=p>,</span> <span class=s2>&quot;湿纸巾是干垃圾&quot;</span><span class=p>,</span> <span class=s2>&quot;别来吵我&quot;</span><span class=p>]}</span>
<span class=p>)</span>
<span class=nb>print</span><span class=p>(</span><span class=n>response</span><span class=o>.</span><span class=n>json</span><span class=p>())</span>
</code></pre></div></td></tr></table></div> <strong>Run the script and check the result.</strong></p> <div class=termy> <div class=highlight><pre><span></span><code><span class=gp>$ </span>python test.py
<span class=go>{</span>
<span class=go>    &quot;model_name&quot;: &quot;emotion_detection_textcnn&quot;,</span>
<span class=go>    &quot;data&quot;: [</span>
<span class=go>        {</span>
<span class=go>            &quot;text&quot;: &quot;今天天气真好&quot;,</span>
<span class=go>            &quot;emotion_label&quot;: 2,</span>
<span class=go>            &quot;emotion_key&quot;: &quot;positive&quot;,</span>
<span class=go>            &quot;positive_probs&quot;: 0.9267,</span>
<span class=go>            &quot;negative_probs&quot;: 0.0019,</span>
<span class=go>            &quot;neutral_probs&quot;: 0.0714</span>
<span class=go>        },</span>
<span class=go>        {</span>
<span class=go>            &quot;text&quot;: &quot;湿纸巾是干垃圾&quot;,</span>
<span class=go>            &quot;emotion_label&quot;: 1,</span>
<span class=go>            &quot;emotion_key&quot;: &quot;neutral&quot;,</span>
<span class=go>            &quot;positive_probs&quot;: 0.0062,</span>
<span class=go>            &quot;negative_probs&quot;: 0.0042,</span>
<span class=go>            &quot;neutral_probs&quot;: 0.9896</span>
<span class=go>        },</span>
<span class=go>        {</span>
<span class=go>            &quot;text&quot;: &quot;别来吵我&quot;,</span>
<span class=go>            &quot;emotion_label&quot;: 0,</span>
<span class=go>            &quot;emotion_key&quot;: &quot;negative&quot;,</span>
<span class=go>            &quot;positive_probs&quot;: 0.0732,</span>
<span class=go>            &quot;negative_probs&quot;: 0.7791,</span>
<span class=go>            &quot;neutral_probs&quot;: 0.1477</span>
<span class=go>        }</span>
<span class=go>    ]</span>
<span class=go>}</span>
</code></pre></div> </div> </div> </div> </div> <hr> <p>Even cooler, go to <a href=http://127.0.0.1:8000>http://127.0.0.1:8000</a>, and you will have a full documentation of your APIs.</p> <p>You can also send predict requests just there!</p> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../image/semantic_segmentation/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Semantic Segmentation" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Semantic Segmentation </div> </div> </a> <a href=../lexical_analysis/ class="md-footer__link md-footer__link--next" aria-label="Next: Lexical analysis" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Lexical analysis </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright © 2020-2022 Jiuhe WANG underneathall.com, underneathall.app All Rights Reserved. </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/wjiuhe target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../../..", "features": ["search.suggest", "navigation.expand", "navigation.tracking", "content.code.annotate", "navigation.tabs"], "search": "../../../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src=../../../../../assets/javascripts/bundle.a6c66575.min.js></script> <script src=../../../../../underneathall/js/termynal.js></script> <script src=../../../../../underneathall/js/custom.js></script> </body> </html>